<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux 常用命令 &mdash; 地震“学”科研入门教程</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/mystnb.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/togglebutton.js"></script>
        <script src="../../_static/translations.js"></script>
        <script src="../../_static/design-tabs.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex/" />
    <link rel="search" title="搜索" href="../../search/" />
    <link rel="next" title="编辑器" href="../editor/" />
    <link rel="prev" title="环境变量" href="../environment-variable/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../" class="icon icon-home"> 地震“学”科研入门教程
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">计算机基础</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../operating-system/">选择操作系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/">配置操作系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux101/">Linux 入门</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linux 常用命令</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#cat">cat</a></li>
<li class="toctree-l2"><a class="reference internal" href="#diff">diff</a></li>
<li class="toctree-l2"><a class="reference internal" href="#df">df</a></li>
<li class="toctree-l2"><a class="reference internal" href="#du">du</a></li>
<li class="toctree-l2"><a class="reference internal" href="#find">find</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gawk">gawk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#grep">grep</a></li>
<li class="toctree-l2"><a class="reference internal" href="#head">head</a></li>
<li class="toctree-l2"><a class="reference internal" href="#less">less</a></li>
<li class="toctree-l2"><a class="reference internal" href="#locate">locate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rsync">rsync</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scp">scp</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sed">sed</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sort">sort</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ssh">ssh</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tail">tail</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tar">tar</a></li>
<li class="toctree-l2"><a class="reference internal" href="#top">top</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uniq">uniq</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wc">wc</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wget">wget</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../editor/">编辑器</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">编程基础</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../programming/introduction/">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming/languages/">编程语言</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming/compile/">编译与链接</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming/version-control/">版本控制</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">地震学基础</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/introduction/">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/basis/">地震学基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/data/">地震学数据</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/software/">常用软件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/resources/">学习资料</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">地震学实践</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/introduction/">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/prerequisite/">准备工作</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/download/">资料下载</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/process/">资料处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/analysis/">资料分析</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">实践经验</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/introduction/">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/file-organization/">文件管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/software-installation/">软件安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/backup/">数据备份</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/software/">高效率软件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/zsh/">Zsh 及其配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/vscode/">VS Code 使用教程</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">外部链接</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://seismo-learn.org/"><i class="fa fa-home"></i> 地震“学”主站</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/seismo-learn/seismology101"><i class="fa fa-github fa-fw"></i> 网站源码</a></li>
            
                <li class="toctree-l1"><a href="https://seismo-learn.org/contributing/"><i class="fa fa-edit fa-fw"></i> 贡献指南</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/seismo-learn/seismology101/discussions"><i class="fa fa-comments fa-fw"></i> 参与讨论</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">地震“学”科研入门教程</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
      <li>Linux 常用命令</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/seismo-learn/seismology101/blob/main/source/computer/commands.rst" class="fa fa-github"> 编辑本页</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux">
<h1>Linux 常用命令<a class="headerlink" href="#linux" title="永久链接至标题"></a></h1>
<dl class="field-list simple">
<dt class="field-odd">本节贡献者</dt>
<dd class="field-odd"><p><a class="reference external" href="https://github.com/core-man">姚家园</a>（作者）、
<a class="reference external" href="https://me.seisman.info/">田冬冬</a>（作者）</p>
</dd>
<dt class="field-even">最近更新日期</dt>
<dd class="field-even"><p>2021-04-04</p>
</dd>
<dt class="field-odd">预计花费时间</dt>
<dd class="field-odd"><p>120 分钟</p>
</dd>
</dl>
<hr class="docutils" />
<p>Linux/macOS 下有成百上千个命令，每个命令都有众多选项。一开始上手 Linux/macOS，如果要学习这么多命令会让人发狂，而且根本记不住。其实，<strong>命令不是背出来的而是用出来的</strong>。我们只需要掌握少数常用命令的常用用法，遇到不熟悉的命令或用法再查询和学习即可。这一节就介绍一些常用命令的常用用法。用户可以通过如下方式查询更多命令及其用法。</p>
<ol class="arabic">
<li><p>使用 <a class="reference external" href="https://tldr.sh/">tldr</a> 命令查询 [<strong>推荐</strong>]</p>
<p><code class="docutils literal notranslate"><span class="pre">tldr</span></code> 是由社区维护的简化版的命令帮助文档。其以实例的方式展示了大多数常用命令的常见用法，但某些命令可能还未编写。例如 <code class="docutils literal notranslate"><span class="pre">tldr</span> <span class="pre">mkdir</span></code>
将显示 <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> 命令的简单用法。</p>
</li>
<li><p>使用 UNIX 提供的 <code class="docutils literal notranslate"><span class="pre">man</span></code> 命令查询</p>
<p><code class="docutils literal notranslate"><span class="pre">man</span></code> 提供了命令的完整语法，因而通常比较冗长。例如 <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">mkdir</span></code> 将显示 <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> 命令的完整语法。</p>
</li>
<li><p>网页搜索相关命令</p>
<ul class="simple">
<li><p>使用 Google 搜索</p></li>
<li><p>在网站 <a class="reference external" href="https://man.linuxde.net/">https://man.linuxde.net/</a> 中查询</p></li>
</ul>
</li>
</ol>
<hr class="docutils" />
<p class="rubric">命令目录</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-4 sd-g-4 sd-g-xs-4 sd-g-sm-4 sd-g-md-3 sd-g-lg-3 docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
文件查看</div>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference internal" href="#cat">cat</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#head">head</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#less">less</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#tail">tail</a></p></li>
</ul>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
文件处理</div>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference internal" href="#diff">diff</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#gawk">gawk</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#grep">grep</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#sed">sed</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#sort">sort</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#uniq">uniq</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#wc">wc</a></p></li>
</ul>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
文件搜索</div>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference internal" href="#find">find</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#locate">locate</a></p></li>
</ul>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
文件传输</div>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference internal" href="#rsync">rsync</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#scp">scp</a></p></li>
</ul>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
文件下载</div>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference internal" href="#wget">wget</a></p></li>
</ul>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
压缩与解压</div>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference internal" href="#tar">tar</a></p></li>
</ul>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
系统管理</div>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference internal" href="#df">df</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#du">du</a></p></li>
<li><p class="sd-card-text"><a class="reference internal" href="#top">top</a></p></li>
</ul>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
远程登录</div>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference internal" href="#ssh">ssh</a></p></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section id="cat">
<h2>cat<a class="headerlink" href="#cat" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cat</span></code> 命令的命名来源于 con<strong>cat</strong>enate（拼接）。该命令可以输出某个文件的内容，或将多个文件拼接起来:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 将一个文件的内容输出到终端
$ cat file

# 输出文件内容并显示行号
$ cat -n file

# 将文件 file1 和 file2 拼接到一个文件 target_file 中
$ cat file1 file2 &gt; target_file
</pre></div>
</div>
</section>
<section id="diff">
<h2>diff<a class="headerlink" href="#diff" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">diff</span></code> 命令的命名来自 <strong>diff</strong>erence。该命令可以用来逐行比较两个文件的异同。我们用以下两个示例文件展示其用法:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat file1
seismo-learn
seismology
software

$ cat file2
seismo-learn
seismology101
software
</pre></div>
</div>
<p>比较 <code class="file docutils literal notranslate"><span class="pre">file1</span></code> 和 <code class="file docutils literal notranslate"><span class="pre">file2</span></code> 的异同，结果显示两个文件第二行不同，其他行是相同的:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ diff file1 file2
2c2
&lt; seismology
---
&gt; seismology101
</pre></div>
</div>
</section>
<section id="df">
<h2>df<a class="headerlink" href="#df" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">df</span></code> 命令的命名来自 <strong>d</strong>isk <strong>f</strong>ree（可使用的硬盘空间）。该命令可以获取硬盘总空间、已使用空间、剩余空间等信息。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ df -h
Filesystem                          Size  Used Avail Use% Mounted on
/dev/mapper/cl_ivantjuawinata-root  100G   86G   15G  86% /
devtmpfs                            7.8G     0  7.8G   0% /dev
tmpfs                               7.8G  114M  7.7G   2% /run
/dev/mapper/cl_ivantjuawinata-home  1.1T  904G  149G  86% /home
</pre></div>
</div>
<p>从输出中可以得知，<code class="file docutils literal notranslate"><span class="pre">/home</span></code> 分区总硬盘空间为 1.1 TB，已使用 904 GB，剩余 149 GB。</p>
</section>
<section id="du">
<h2>du<a class="headerlink" href="#du" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">du</span></code> 命令的名字来自 <strong>d</strong>isk <strong>u</strong>sage（硬盘使用情况）。该命令用于查看文件和目录占用的硬盘空间。</p>
<p>查看当前目录所占硬盘空间（也可以在最后指定想查看的目录名）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 默认显示当前目录及其所有子目录所占硬盘空间
$ du -h

# 设置目录深度为 0，即只显示当前目录所占硬盘空间，不显示其任何子目录
$ du -h -d 0

# 设置目录深度为 1，即只显示当前目录及其一级子目录所占硬盘空间
$ du -h -d 1
</pre></div>
</div>
<p>查看指定文件所占硬盘空间:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ du -h file1.txt
</pre></div>
</div>
</section>
<section id="find">
<h2>find<a class="headerlink" href="#find" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">find</span></code> 命令用来查找指定目录下的子目录和文件，并执行一些操作。可以参考
<a class="reference external" href="https://man.linuxde.net/find/">find 命令</a> 学习更多用法。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 列出 ~/src 目录及其子目录下的所有目录和文件
$ find ~/src

# 查找 ~/src 目录及其子目录下以 .c 结尾的目录和文件
$ find ~/src -name &quot;*.c&quot;

# 查找 ~/src 目录及其子目录下以 .c 结尾的文件
$ find ~/src -type f -name &quot;*.c&quot;
</pre></div>
</div>
<p>使用 <code class="docutils literal notranslate"><span class="pre">-delete</span></code> 选项可以直接删除查找的文件或目录:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 查找 ~/src 目录及其子目录下以 .pyc 结尾的文件，并删除
$ find ~/src -type f -name &quot;*.pyc&quot; -delete
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">find</span></code> 的 <code class="docutils literal notranslate"><span class="pre">-exec</span></code> 选项可以调用其他系统命令直接对查找的结果进行处理:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 查找 ~/src 目录及其子目录下以 .c 结尾的文件，并执行 grep 命令找出这些文件中含 seismo-learn 的行
$ find ~/src -type f -name &quot;*.c&quot; -exec grep seismo-learn {} +
</pre></div>
</div>
<p>这个例子中，<code class="docutils literal notranslate"><span class="pre">{}</span></code> 与 <code class="docutils literal notranslate"><span class="pre">-exec</span></code> 选项结合，表示查找到的文件。我们还可以用 <code class="docutils literal notranslate"><span class="pre">-ok</span></code>
来代替 <code class="docutils literal notranslate"><span class="pre">-exec</span></code> 选项，二者的区别是 <code class="docutils literal notranslate"><span class="pre">-ok</span></code> 选项在执行后面的命令前会给出提示，输入 <kbd class="kbd docutils literal notranslate">y</kbd> 才会执行，输入 <kbd class="kbd docutils literal notranslate">n</kbd> 则不执行。</p>
</section>
<section id="gawk">
<h2>gawk<a class="headerlink" href="#gawk" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">awk</span></code> 命令的命名起源于其三位作者的姓氏首字母。该命令可以选择标准输入、其他命令的输出或文件中的特定字段并进行操作。它依次扫描每一行，并读取里面的每一个字段。可以参考
<a class="reference external" href="https://www.bookstack.cn/read/bash-tutorial/docs-archives-commands-awk.md">Bash 脚本教程: awk</a>
学习其更多用法。</p>
<p><code class="docutils literal notranslate"><span class="pre">gawk</span></code> 是 GNU 版本的 <code class="docutils literal notranslate"><span class="pre">awk</span></code> 命令。通常建议直接使用 <code class="docutils literal notranslate"><span class="pre">gawk</span></code> 而非 <code class="docutils literal notranslate"><span class="pre">awk</span></code>，尽管在 Linux 系统下，<code class="docutils literal notranslate"><span class="pre">awk</span></code> 命令一般是指向 <code class="docutils literal notranslate"><span class="pre">gawk</span></code> 命令的软链接。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 将一个文件的每一行输出到标准输出。 $0 表示当前行
$ gawk &#39;{print $0}&#39; file

# 将一个文件的每一行的第 1 个和第 3 个字段输出到标准输出（字段的默认分隔符是空格和制表符）
$ gawk &#39;{print $1,$3}&#39; file

# 同上，但跳过第 1-2 行，从第 3 行开始。FNR 为当前行的行数
$ gawk &#39;FNR&gt;2 {print $1,$3}&#39; file

# 将 /etc/passwd 每一行的第 1 个和第 3 个字段输出到标准输出，并设置字段分隔符为冒号
$ gawk -F &#39;:&#39; &#39;{print $1,$3}&#39; /etc/passwd

# 同上，并输出每一行的行号
$ gawk -F &#39;:&#39; &#39;{print NR,$1,$3}&#39; /etc/passwd
</pre></div>
</div>
</section>
<section id="grep">
<h2>grep<a class="headerlink" href="#grep" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">grep</span></code> 命令的命名来自 <strong>g</strong>lobally search a <strong>re</strong>gular expression and <strong>p</strong>rint
（以正则表达式进行全局搜索并输出）。它是一个强大的文本搜索工具，可以搜索文件中与指定模式匹配的行并输出:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 搜索并输出 /etc/passwd 中含有 root 的行
$ grep root /etc/passwd

# 同上，并显示行号
$ grep -n root /etc/passwd

# 搜索并输出 /etc/passwd 中不含有 root 的行
$ grep -v root /etc/passwd
</pre></div>
</div>
</section>
<section id="head">
<h2>head<a class="headerlink" href="#head" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">head</span></code> 命令用于输出文件开头部分的内容:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 输出 /etc/passwd 的前 10 行
$ head /etc/passwd

# 输出 /etc/passwd 的前 5 行
$ head -n 5 /etc/passwd
</pre></div>
</div>
</section>
<section id="less">
<h2>less<a class="headerlink" href="#less" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">less</span></code> 命令可以用来浏览文件内容，比 <code class="docutils literal notranslate"><span class="pre">more</span></code> 命令功能更强大。因此，一个常用的笑话记忆方式是“less is more”。该命令允许用户向前或向后浏览文件：按 <kbd class="kbd docutils literal notranslate">PageUp</kbd>
键向上翻页，用 <kbd class="kbd docutils literal notranslate">PageDown</kbd> 键向下翻页，按 <kbd class="kbd docutils literal notranslate">Enter</kbd> 键或向下方向键则向下移动，用向上方向键则向上移动。按 <kbd class="kbd docutils literal notranslate">q</kbd> 键退出浏览。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 浏览 /etc/passwd
$ less /etc/passwd

# 同上，并显示行号
$ less -N /etc/passwd
</pre></div>
</div>
</section>
<section id="locate">
<h2>locate<a class="headerlink" href="#locate" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">locate</span></code> 命令可以用于查找目录和文件。该命令比 <a class="reference internal" href="#find">find</a> 命令快得多，原因在于它不搜索具体目录，而是直接搜索含有本地所有文件信息的数据库:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 搜索名称含 passwd 的目录或文件
$ locate passwd

# 搜索名称含 /etc/sh 的目录或文件（包括了 /etc 目录下所有以 sh 开头的目录或文件）
$ locate /etc/sh

# 搜索名称含 ~/Des 的目录或文件（包括了家目录下，所有以 Des 开头的目录或文件）
$ locate ~/Des

# 同上，但忽略大小写
$ locate -i ~/des
</pre></div>
</div>
<p>该命令所需的数据库是系统自动创建的，每天自动更新。因此，<code class="docutils literal notranslate"><span class="pre">locate</span></code> 命令查不到最新变动过的文件。可以执行 <code class="docutils literal notranslate"><span class="pre">updatedb</span></code> 命令手动更新数据库，但是 <code class="docutils literal notranslate"><span class="pre">updatedb</span></code>
命令的执行过程较长:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Linux
$ sudo updatedb

# macOS 系统可以使用以下命令
$ sudo /usr/libexec/locate.updatedb
</pre></div>
</div>
</section>
<section id="rsync">
<h2>rsync<a class="headerlink" href="#rsync" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rsync</span></code> 命令的命名来自 <strong>r</strong>emote <strong>sync</strong>hronization（远程同步）。该命名可以用于同步文件，可以是两个本地目录之间，也可以是本地计算机与远程计算机之间。与其他文件传输工具（如 <a class="reference internal" href="#scp">scp</a>）不同，<code class="docutils literal notranslate"><span class="pre">rsync</span></code> 命令仅传输有变动的部分。因此，同步速度更快，常用于文件备份。可以参考
<a class="reference external" href="https://wangdoc.com/ssh/rsync.html">SSH 教程：rsync 命令</a>
进一步学习其用法。</p>
<p>以下示例假设源目录是 <code class="file docutils literal notranslate"><span class="pre">~/Downloads/source</span></code>，目标目录是 <code class="file docutils literal notranslate"><span class="pre">~/workspace/destination</span></code>，远程电脑的 IP 地址是 192.168.1.100，用户名是 seismo-learn。</p>
<p>同步两个本地目录:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 将源目录同步到目标目录下。~/workspace/destination/source 成为源目录的一个镜像
$ rsync -av --delete ~/Downloads/source ~/workspace/destination

# 将源目录下的文件和目录同步到目标目录下。~/workspace/destination 成为源目录的一个镜像
# 该命令与上一命令相比，在源目录的结尾多了一个反斜杠 &quot;/&quot;
$ rsync -av --delete ~/Downloads/source/ ~/workspace/destination

# 若只想查看命令执行效果，不真的执行命令，可以使用 -n 选项。例如
$ rsync -anv ~/Downloads/source ~/workspace/destination
</pre></div>
</div>
<p>同步本地源目录到远程计算机的目标目录下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rsync -av --delete ~/Downloads/source seismo-learn@192.168.1.100:~/workspace/destination
</pre></div>
</div>
<p>同步远程计算机的源目录本地目标目录下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rsync -av --delete seismo-learn@192.168.1.100:~/Downloads/source ~/workspace/destination
</pre></div>
</div>
<p>具体解释以下几个常用选项：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-a</span></code> 选项表示以归档方式传输文件，并保持所有文件属性</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-v</span></code> 选项表示将执行过程输出到终端，用于查看哪些内容正在被同步</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--delete</span></code> 选项表示删除目标目录下那些不存在于源目录下的文件和目录，实现源目录和目标目录的同步</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-n</span></code> 选项表示不执行命令，但模拟执行结果，可用于检测命令的运行是否符合预期</p></li>
</ul>
</section>
<section id="scp">
<h2>scp<a class="headerlink" href="#scp" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">scp</span></code> 命令的命名来源于 <strong>s</strong>ecure <strong>c</strong>o<strong>p</strong>y（安全复制），可用于本地和远程计算机之间传输文件。该命令基于 <a class="reference internal" href="#ssh">ssh</a> 进行安全的远程文件传输，因此传输是加密的。虽然 <code class="docutils literal notranslate"><span class="pre">scp</span></code> 传输速度不如 <a class="reference internal" href="#rsync">rsync</a> 命令，但是它不占系统资源。当需要传输大量小文件时，使用 <a class="reference internal" href="#rsync">rsync</a> 命名会导致硬盘 I/O（输入/输出）非常高，而 <code class="docutils literal notranslate"><span class="pre">scp</span></code> 基本不影响系统正常使用。可以参考
<a class="reference external" href="https://wangdoc.com/ssh/scp.html">SSH 教程：scp 命令</a>
进一步学习其用法。</p>
<p>以下命令假定远程电脑的 IP 地址是 192.168.1.100，用户名是 seismo-learn:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 复制远程文件或目录 /home/seismo-learn/file-or-folder 到本地目录 ~/Downloads 下
$ scp -r seismo-learn@192.168.1.100:/home/seismo-learn/file-or-folder ~/Downloads/

# 上传本地文件或目录 ~/Downloads/file-or-folder 到远程目录 home/seismo-learn/folder2
$ scp -r ~/Downloads/file-or-folder seismo-learn@192.168.1.100:/home/seismo-learn/folder2/
</pre></div>
</div>
</section>
<section id="sed">
<h2>sed<a class="headerlink" href="#sed" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">sed</span></code> 命令的名字来源于 <strong>s</strong>tream <strong>ed</strong>itor（流编辑器）。该命令可以用于对输入流（文件或管道）执行基本的文本转换。它会把当前处理的行存储在临时缓冲区中再进行处理，处理完成后再把缓冲区的内容送往屏幕。接着处理下一行，直到文件末尾。因此默认情况下，文件内容并没有改变:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 将 file 中每一行的第一个 book 替换成 books
$ sed &#39;s/book/books/&#39; file

# 将 file 中每一行的所有的 book 都替换成 books
$ sed &#39;s/book/books/g&#39; file

# 以上命令只是将转换后的文本内容输出出来，并未改变文件本身。可以使用 -i 选项直接改变文件
$ sed -i &#39;s/book/books/g&#39; file

# 以上命令使用斜杠 / 当定界符，也可以使用任意定界符，比如 #
$ sed &#39;s#book#books#&#39; file
$ sed &#39;s#book#books#g&#39; file
$ sed -i &#39;s#book#books#g&#39; file
</pre></div>
</div>
<p>需要注意，macOS 提供的 BSD <code class="docutils literal notranslate"><span class="pre">sed</span></code> 的语法很不同。建议 macOS 用户使用 Homebrew
安装 <code class="docutils literal notranslate"><span class="pre">gnu-sed</span></code>，并将以上命令替换为 <code class="docutils literal notranslate"><span class="pre">gsed</span></code>。</p>
</section>
<section id="sort">
<h2>sort<a class="headerlink" href="#sort" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">sort</span></code> 命令可以将文件内容进行排序，并输出排序结果。该命令将文件的每一行作为一个单位，相互比较。默认的比较原则是从首字符向后，依次按 ASCII 码值进行比较，最后将他们按排序结果输出。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 按 ASCII 码值进行升序排序
$ sort seismo-learn-sort.txt

# 按 ASCII 码值进行降序排序
$ sort -r seismo-learn-sort.txt

# 按 ASCII 码值进行升序排序，并忽略相同行（即重复行只统计一次）
$ sort -u seismo-learn-sort.txt

# 按 ASCII 码值进行降序排序，并忽略相同行
$ sort -u -r seismo-learn-sort.txt
# 不同选项也可以写在一块
# sort -ur seismo-learn-sort.txt

# 按数值大小进行升序排序
$ sort -n seismo-learn-sort.txt

# 按第三列 ASCII 码值进行升序排列
$ sort -k3,3 seismo-learn-sort.txt

# 按第三列的数值大小进行升序排列
$ sort -k3,3n seismo-learn-sort.txt

# 按第三列的数值大小进行降序排列
$ sort -k3,3nr seismo-learn-sort.txt
</pre></div>
</div>
</section>
<section id="ssh">
<h2>ssh<a class="headerlink" href="#ssh" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ssh</span></code> 命令的命名源于 <strong>S</strong>ecure <strong>Sh</strong>ell（安全外壳协议，简称 SSH），该协议是一种加密的网络传输协议。使用 <code class="docutils literal notranslate"><span class="pre">ssh</span></code> 命令可以登录到远程计算机中。常用于登录服务器提交计算任务。可以参考
<a class="reference external" href="https://wangdoc.com/ssh/key.html">SSH 教程：SSH 基本知识</a>
进一步学习其用法。</p>
<p>若远程计算机的 IP 地址是 192.168.1.100，用户名是 seismo-learn:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 登录远程计算机
$ ssh seismo-learn@192.168.1.100

# 登录远程计算机并打开图形界面（需要配置远程计算上的 ssh 服务器配置）
$ ssh -X seismo-learn@192.168.1.100
</pre></div>
</div>
</section>
<section id="tail">
<h2>tail<a class="headerlink" href="#tail" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">tail</span></code> 命令用于输出文件尾部内容:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 输出 /etc/passwd 的后 10 行
$ tail /etc/passwd

# 输出 /etc/passwd 的后 5 行
$ tail -n 5 /etc/passwd
</pre></div>
</div>
</section>
<section id="tar">
<h2>tar<a class="headerlink" href="#tar" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">tar</span></code> 命令的名字来自 <strong>t</strong>ape <strong>ar</strong>chive（磁带存档），因为该命令最初被用来在磁带上创建档案。该命令可以把一大堆文件和目录打包成一个文件，并且可以对该文件进行压缩。这对于备份文件或将几个文件组合成一个文件以便于网络传输是非常有用的。</p>
<p>首先要弄清两个概念：打包和压缩。打包是指将一大堆文件或目录打包成一个文件，而压缩则是将一个大文件通过一些压缩算法变成一个小文件。Linux 中的很多压缩程序只能压缩单个文件，若想压缩一大堆文件，首先得将这一大堆文件打成一个包（使用 <code class="docutils literal notranslate"><span class="pre">tar</span></code> 命令），再用压缩程序进行压缩（使用 <code class="docutils literal notranslate"><span class="pre">gzip</span></code> 或 <code class="docutils literal notranslate"><span class="pre">bzip2</span></code> 命令）。使用 <code class="docutils literal notranslate"><span class="pre">tar</span></code> 命令时，可以直接选择压缩打包的文件，无需再单独使用压缩程序进行压缩。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 将 file1 和 file2 打包并用 gzip 命令进行压缩，文件命名为 seismo-learn.tar.gz。也可用 .tgz 来作标识
$ tar -zcvf seismo-learn.tar.gz file1 file2

# 打包并用 bzip2 命令进行压缩。一般用 .tar.bz2 或 .tbz 来作文件标识
$ tar -jcvf seism-learn.tar.bz2 file1 file2

# 列出压缩包中的文件和目录
$ tar -tvf seismo-learn.tar.gz

# 解压一个压缩包，默认解压到当前目录下
$ tar -xvf seismo-learn.tar.gz

# 解压到 bak 目录下（该目录必须存在）
$ mkdir bak
$ tar -xvf seismo-learn.tar.gz -C bak
</pre></div>
</div>
<p>以上查看和解压命令也适用于 <code class="file docutils literal notranslate"><span class="pre">.tar</span></code> 和 <code class="file docutils literal notranslate"><span class="pre">tar.bz2</span></code> 压缩包格式。</p>
<p>以上示例使用的 <code class="docutils literal notranslate"><span class="pre">-v</span></code> 选项会显示指令执行过程，若不想显示执行过程，可以不使用该选项。</p>
</section>
<section id="top">
<h2>top<a class="headerlink" href="#top" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">top</span></code> 命令的名字来自 <strong>t</strong>able <strong>o</strong>f <strong>p</strong>rocesses（进程表）。该命令可以实时动态地查看系统的整体运行情况，是一个综合了多方信息，监测系统性能和运行信息的实用工具。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ top
top - 14:31:52 up 29 days, 14:02,  5 users,  load average: 0.32, 0.51, 0.49
Tasks: 328 total,   1 running, 327 sleeping,   0 stopped,   0 zombie
%Cpu(s):  1.0 us,  0.5 sy,  0.0 ni, 98.6 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem : 16320540 total,  2548620 free,  6057748 used,  7714172 buff/cache
KiB Swap: 17821692 total, 17444092 free,   377600 used.  8252436 avail Mem

   PID USER           PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
120901 seismo-learn   20   0 5027300  88404  45736 S   2.0  0.5   0:20.05 chrome
  2158 seismo-learn   20   0 4355124 444384  57984 S   1.0  2.7   1581:35 gnome-shell
148103 seismo-learn   20   0  911924  82504  26180 S   1.0  0.5   4:04.09 terminator
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">top</span></code> 命令执行过程中可以使用的一些单字母或数字的交互命令:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code>：退出命令</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>：显示每个 CPU 的状态</p></li>
</ul>
</section>
<section id="uniq">
<h2>uniq<a class="headerlink" href="#uniq" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">uniq</span></code> 命令的命名源于 <strong>uniq</strong>ue（唯一），可以用于忽略或查询文件中的重复行。如果重复行不相邻，则该命令不起作用。所以，<code class="docutils literal notranslate"><span class="pre">uniq</span></code> 命令一般与 <a class="reference internal" href="#sort">sort</a> 命令结合使用。以下命令假设示例文件已经按行排序，即重复行相邻。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 输出 file 中非重复和重复行，但重复行只输出一次
$ uniq file
# 以上命令等同于以下命令
$ sort -u file

# 同上，同时输出各行在文件中出现的次数
$ uniq -c file

# 只输出 file 中非重复的行
$ uniq -u file

# 只输出 file 中重复的行
$ uniq -d file
</pre></div>
</div>
<p>若重复行在文件中不相邻，可以使用 <a class="reference internal" href="#sort">sort</a> 命令先对文件进行排序:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sort file | uniq
# 以上命令等同于以下命令
$ sort -c file

$ sort file | uniq -c
$ sort file | uniq -u
$ sort file | uniq -d
</pre></div>
</div>
</section>
<section id="wc">
<h2>wc<a class="headerlink" href="#wc" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">wc</span></code> 命令的名字来自 <strong>w</strong>ord <strong>c</strong>ount（字数）。该命令可以输出文件或标准输入的行数、单词数以及字节数:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 输出统计 /etc/passwd 的行数、单词数以及字节数
$ wc /etc/passwd
 119     321    7579 /etc/passwd
</pre></div>
</div>
<p>从输出中可以得知，<code class="file docutils literal notranslate"><span class="pre">/etc/passwd</span></code> 有 119 行、321 个单词以及 7579 个字节。</p>
<p>使用 <code class="docutils literal notranslate"><span class="pre">-l</span></code>、<code class="docutils literal notranslate"><span class="pre">-w</span></code> 或 <code class="docutils literal notranslate"><span class="pre">-c</span></code> 选项，可以分别只输出行数、单词数或字节数。例如，只输出 <code class="file docutils literal notranslate"><span class="pre">/etc/passwd</span></code> 的行数:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ wc -l /etc/passwd
</pre></div>
</div>
</section>
<section id="wget">
<h2>wget<a class="headerlink" href="#wget" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">wget</span></code> 命令的名字来自 <strong>W</strong>orld <strong>W</strong>ide <strong>W</strong>eb <strong>get</strong>（万维网获取）。该命令可以用来从网络上下载文件，支持断点续传。类似的命令还有 <code class="docutils literal notranslate"><span class="pre">curl</span></code>，可以参考 <a class="reference external" href="https://www.ruanyifeng.com/blog/2019/09/curl-reference.html">curl 用法指南</a>
学习其基本用法。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 下载以下网址对应的单个文件（即 distaz.c 代码）
$ wget http://www.seis.sc.edu/software/distaz/distaz.c

# 下载并以不同的文件名保存
$ wget -O distaz-rename.c http://www.seis.sc.edu/software/distaz/distaz.c

# 继续一个未完成的下载任务，这对下载大文件时突然中断非常有帮助
$ wget -c http://www.seis.sc.edu/software/distaz/distaz.c
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../environment-variable/" class="btn btn-neutral float-left" title="环境变量" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="../editor/" class="btn btn-neutral float-right" title="编辑器" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2020–2021, seismo-learn.
      <span class="lastupdated">最后更新于 2021 年 12 月 19 日.
      </span></p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">sphinx_rtd_theme 主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>