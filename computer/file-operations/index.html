<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>文件操作 &mdash; 地震“学”科研入门教程</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/mystnb.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/togglebutton.js"></script>
        <script src="../../_static/translations.js"></script>
        <script src="../../_static/design-tabs.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex/" />
    <link rel="search" title="搜索" href="../../search/" />
    <link rel="next" title="Shell 基础" href="../shell/" />
    <link rel="prev" title="命令行" href="../command-line/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../" class="icon icon-home"> 地震“学”科研入门教程
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">计算机基础</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../operating-system/">选择操作系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/">配置操作系统</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../linux101/">Linux 入门</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../command-line/">命令行</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">文件操作</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#linux">熟悉 Linux 文件系统</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">操作文件与目录</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">文件路径</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">文件权限</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../shell/">Shell 基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment-variable/">环境变量</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../commands/">Linux 常用命令</a></li>
<li class="toctree-l1"><a class="reference internal" href="../editor/">编辑器</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">编程基础</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../programming/introduction/">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming/languages/">编程语言</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming/compile/">编译与链接</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming/version-control/">版本控制</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">地震学基础</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/introduction/">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/basis/">地震学基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/data/">地震学数据</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/software/">常用软件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../seismology/resources/">学习资料</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">地震学实践</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/introduction/">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/prerequisite/">准备工作</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/download/">资料下载</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/process/">资料处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/analysis/">资料分析</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">实践经验</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/introduction/">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/file-organization/">文件管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/software-installation/">软件安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/backup/">数据备份</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/software/">高效率软件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/zsh/">Zsh 及其配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/vscode/">VS Code 使用教程</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">外部链接</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://seismo-learn.org/"><i class="fa fa-home"></i> 地震“学”主站</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/seismo-learn/seismology101"><i class="fa fa-github fa-fw"></i> 网站源码</a></li>
            
                <li class="toctree-l1"><a href="https://seismo-learn.org/contributing/"><i class="fa fa-edit fa-fw"></i> 贡献指南</a></li>
            
                <li class="toctree-l1"><a href="https://github.com/seismo-learn/seismology101/discussions"><i class="fa fa-comments fa-fw"></i> 参与讨论</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">地震“学”科研入门教程</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../linux101/">Linux 入门</a> &raquo;</li>
      <li>文件操作</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/seismo-learn/seismology101/blob/main/source/computer/file-operations.rst" class="fa fa-github"> 编辑本页</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>文件操作<a class="headerlink" href="#id1" title="永久链接至标题"></a></h1>
<dl class="field-list simple">
<dt class="field-odd">本节贡献者</dt>
<dd class="field-odd"><p><a class="reference external" href="https://github.com/core-man">姚家园</a>（作者）、
<a class="reference external" href="https://me.seisman.info/">田冬冬</a>（审稿）</p>
</dd>
<dt class="field-even">最近更新日期</dt>
<dd class="field-even"><p>2021-04-23</p>
</dd>
<dt class="field-odd">预计花费时间</dt>
<dd class="field-odd"><p>30 分钟</p>
</dd>
</dl>
<hr class="docutils" />
<section id="linux">
<h2>熟悉 Linux 文件系统<a class="headerlink" href="#linux" title="永久链接至标题"></a></h2>
<figure class="align-center" id="id5">
<img alt="../../_images/linux-file-system-tree.png" src="../../_images/linux-file-system-tree.png" />
<figcaption>
<p><span class="caption-text">Linux 文件系统树</span><a class="headerlink" href="#id5" title="永久链接至图片"></a></p>
</figcaption>
</figure>
<p>Linux 文件系统就像一颗树一样，从 <code class="file docutils literal notranslate"><span class="pre">/</span></code> 目录开始，这个特殊的目录称为根目录。根目录下一般有 <code class="file docutils literal notranslate"><span class="pre">/home</span></code>、<code class="file docutils literal notranslate"><span class="pre">/root</span></code>、<code class="file docutils literal notranslate"><span class="pre">/bin</span></code>、
<code class="file docutils literal notranslate"><span class="pre">/usr</span></code>、<code class="file docutils literal notranslate"><span class="pre">/lib</span></code>、<code class="file docutils literal notranslate"><span class="pre">/opt</span></code> 等目录。</p>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">/home</span></code> 目录：用户的家目录，存储用户自己的文件</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">/bin</span></code> 目录：存储必须的程序和命令，所有用户都可用</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">/usr</span></code> 目录：大多数软件的安装位置</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">/opt</span></code> 目录：某些闭源或商业软件（如 Matlab、Google Chrome、Google Earth）默认将软件安装到此目录下</p></li>
</ul>
<p>日常科研中，大多数情况下只在 <code class="file docutils literal notranslate"><span class="pre">/home</span></code> 目录下工作。假设用户名是 seismo-learn，该用户的家目录便是 <code class="file docutils literal notranslate"><span class="pre">/home/seismo-learn</span></code>。macOS 下的家目录是 <code class="file docutils literal notranslate"><span class="pre">/Users/seismo-learn</span></code>。在 Linux/macOS 系统下，可用 <code class="file docutils literal notranslate"><span class="pre">~</span></code> 代表家目录。Linux 系统安装后，自动创建的家目录下的目录有
<code class="file docutils literal notranslate"><span class="pre">~/Desktop</span></code>、<code class="file docutils literal notranslate"><span class="pre">~/Documents</span></code>、<code class="file docutils literal notranslate"><span class="pre">~/Downloads</span></code> 等。熟悉 Linux 文件系统后可以参考<a class="reference external" href="https://seismo-learn.org/seismology101/best-practices/file-organization/" title="(在 地震“学”科研入门教程)"><span class="xref std std-doc">《文件管理实践经验》</span></a>和<a class="reference external" href="https://seismo-learn.org/seismology101/best-practices/software-installation/" title="(在 地震“学”科研入门教程)"><span class="xref std std-doc">《软件安装实践经验》</span></a>进一步组织与管理家目录，以提高工作效率。</p>
</section>
<section id="id2">
<h2>操作文件与目录<a class="headerlink" href="#id2" title="永久链接至标题"></a></h2>
<p>接下来将通过一系列命令熟悉和掌握 Linux 系统下文件和目录的常用操作。读者应打开终端，根据下面的教程自行输入命令（不要复制粘贴！），记住并理解每个命令的作用。这一小节中，假设用户名是 seismo-learn，读者根据自己的情况自行修改。</p>
<p>查看文件和目录:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 使用 pwd（print working directory，即打印当前工作目录）命令查看当前所在目录
# 可以看出启动终端后，默认进入家目录
$ pwd
/home/seismo-learn

# 使用 ls（list，即列表）命令显示当前所在目录（即家目录）含有的子目录和文件
$ ls
Desktop    Documents    Downloads
# 查看 ~/Desktop 目录和 /etc/passwd 文件
$ ls Desktop
$ ls /etc/passwd
</pre></div>
</div>
<p>切换目录:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 使用 cd（change directory，即切换目录）命令进入根目录
$ cd /
# 查看根目录中的子目录和文件
$ ls
bin   etc   lib    mnt  proc  run   srv  tmp  var
boot  dev   home  lib64  media   opt  root  sbin  sys  usr
# 切换回家目录（以下任一操作均可）
$ cd /home/seismo-learn
$ cd ~
$ cd

# 确认已经切换回家目录下
$ pwd
/home/seismo-learn
</pre></div>
</div>
<p>新建文件和目录:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 进入家目录
$ cd ~
# 使用 mkdir（make directory，即创建目录）命令新建以下目录
$ mkdir codes software
$ ls
codes  Desktop  Documents  Downloads  software
# 建立 workspace 目录，并在该目录下建立 source 目录
# 需要使用 -p 选项，表示自动创建不存在的中间层目录
$ mkdir -p workspace/source
$ ls workspace/
source

# 进入 workspace 目录
$ cd workspace
# 使用 touch 命令创建新文件 hello-world.txt 和 seismo-learn.txt
$ touch hello-world.txt seismo-learn.txt
$ ls
hello-world.txt  seismo-learn.txt  source
</pre></div>
</div>
<p>以下所有操作都假设读者已经切换到 <code class="file docutils literal notranslate"><span class="pre">~/workspace</span></code> 目录下了，即:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 进入 ~/workspace 目录
$ cd ~/workspace
</pre></div>
</div>
<p>复制文件和目录:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 使用 cp（copy，即复制）命令复制 hello-world.txt 文件到同一目录下，并重命名为 hello-world-cp.txt
$ cp hello-world.txt hello-world-cp.txt
$ ls
hello-world-cp.txt  hello-world.txt  seismo-learn.txt  source
# 复制 hello-world.txt 和 seismo-learn.txt 文件到 source 目录下
$ cp hello-world.txt seismo-learn.txt source
$ ls source
hello-world.txt  seismo-learn.txt

# 复制 source 目录为同一目录下的 destination 目录（目标目录不存在）
$ cp -r source destination
$ ls
destination  hello-world-cp.txt  hello-world.txt  seismo-learn.txt  source
$ ls destination
hello-world.txt  seismo-learn.txt
# 复制 source 目录到同一目录下的 destination 目录下（目标目录已存在）
$ cp -r source destination
$ ls destination
hello-world.txt  seismo-learn.txt  source
</pre></div>
</div>
<p>移动文件和目录:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 使用 mv（move，即移动）命令移动 hello-world.txt 文件同一目录下，并重命名为 hello-world-mv.txt
$ mv hello-world.txt hello-world-mv.txt
$ ls
destination  hello-world-cp.txt  hello-world-mv.txt  seismo-learn.txt  source
# 移动 hello-world-cp.txt 和 hello-world-mv.txt 文件到 source 目录下
$ mv hello-world-cp.txt hello-world-mv.txt source
ls
destination  seismo-learn.txt  source
$ ls source
hello-world-cp.txt  hello-world.txt  hello-world-mv.txt  seismo-learn.txt

# 移动 source 目录为同一目录下的 source-mv 目录（相当于重命名）
$ mv source source-mv
ls
destination  seismo-learn.txt  source-mv
# 移动 source-mv 目录到同一目录下的 destination 目录下
$ mv source-mv destination
$ ls
destination  seismo-learn.txt
$ ls destination
hello-world.txt  seismo-learn.txt  source  source-mv
</pre></div>
</div>
<p>删除文件和目录:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 使用 rm（remove，即删除）命令删除 seismo-learn.txt 文件
$ rm seismo-learn.txt
$ ls
destination
# 删除 destination 目录
## rm 命令无法直接删除文件夹，直接使用 rm 命令删除文件夹会出现如下报错
$ rm destination/
rm: destination/: is a directory
## 需要使用 -r 选项（recursive，表示递归）
$ rm -r destination
$ ls

# 新建 tmp 目录
$ mkdir tmp
$ ls
tmp
# 使用 rmdir（remove directory，即删除目录）命令删除空目录 tmp。目录不为空时则不删除
$ rmdir tmp
$ ls
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>使用 <code class="docutils literal notranslate"><span class="pre">rm</span></code> 命令删除的文件会被直接删除，并不会被放在回收站里。因而执行 <code class="docutils literal notranslate"><span class="pre">rm</span></code> 命令时一定要小心再小心，不要误删重要文件。可以先把要删除的文件移动到某目录下（如 <code class="file docutils literal notranslate"><span class="pre">~/trash</span></code>），之后统一删除；也可以考虑使用其他命令行工具管理回收站（如 <a class="reference external" href="https://github.com/andreafrancia/trash-cli">trash-cli</a>）。</p>
</div>
<p>软链接，也叫符号链接，类似于 Windows 下的快捷方式。Linux 下可以使用 <code class="docutils literal notranslate"><span class="pre">ln</span></code> （link，即链接）命令为文件和目录建立软链接:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 在当前目录下，为文件 /etc/passwd 建立软链接
$ ln -s /etc/passwd
# 使用 ls -l 命令查看，会发现在当前目录下生成了一个 passwd 文件，其指向源文件 /etc/passwd
$ ls -l
total 0
lrwxr-xr-x  1 seismo-learn  seismo-learn  11 Oct  4 21:55 passwd -&gt; /etc/passwd
# 默认情况下，软链接与源文件同名。可以重新指定软链接的文件名
$ ln -s /etc/passwd mylocalpasswd
$ ls -l
total 0
lrwxr-xr-x  1 seismo-learn  seismo-learn  11 Oct  4 21:59 mylocalpasswd -&gt; /etc/passwd
lrwxr-xr-x  1 seismo-learn  seismo-learn  11 Oct  4 21:55 passwd -&gt; /etc/passwd

# 在当前目录下，为文件夹 /usr/lib 建立软链接
$ ln -s /usr/lib mylibdir
$ ls -l
total 0
lrwxr-xr-x  1 seismo-learn  seismo-learn     8B Oct  4 22:04 mylibdir -&gt; /usr/lib
lrwxr-xr-x  1 seismo-learn  seismo-learn    11B Oct  4 21:59 mylocalpasswd -&gt; /etc/passwd
lrwxr-xr-x  1 seismo-learn  seismo-learn    11B Oct  4 21:55 passwd -&gt; /etc/passwd
# 可以直接对软链接进行各种操作
$ ls mylibdir/

# 删除软链接。源文件不受影响
$ rm mylibdir passwd mylocalpasswd
</pre></div>
</div>
</section>
<section id="id3">
<h2>文件路径<a class="headerlink" href="#id3" title="永久链接至标题"></a></h2>
<p>访问文件或目录需要指定文件或目录的路径。Linux 下有两种表示路径的方式：绝对路径和相对路径。</p>
<p>顾名思义，绝对路径是从根目录 <code class="file docutils literal notranslate"><span class="pre">/</span></code> 开始算起的路径。例如，家目录是 <code class="file docutils literal notranslate"><span class="pre">/home</span></code>，用户 seismo-learn 的家目录是 <code class="file docutils literal notranslate"><span class="pre">/home/seismo-learn</span></code>，该用户的桌面目录的路径是
<code class="file docutils literal notranslate"><span class="pre">/home/seismo-learn/Desktop</span></code>。日常科研中，用户的计算机一般只有用户自己在使用，因此提到家目录是其时特指 <code class="file docutils literal notranslate"><span class="pre">/home/seismo-learn</span></code>，而不是指 <code class="file docutils literal notranslate"><span class="pre">/home</span></code>。因为大多数情况下，我们都在用户的家目录下操作计算机，因此就给这个目录一个特殊的别称
<code class="file docutils literal notranslate"><span class="pre">~</span></code>，其和 <code class="file docutils literal notranslate"><span class="pre">/home/seismo-learn</span></code> 是一回事。</p>
<p>有时进入到某个目录中，使用绝对路径并不方便。例如，当前位于 <code class="file docutils literal notranslate"><span class="pre">~/projects/NorthChina-MTZ/data</span></code>
目录中，如果想进入 <code class="file docutils literal notranslate"><span class="pre">~/projects/NorthChina-MTZ/figures</span></code> 目录下，使用绝对路径要输入很多字母。在当前目录下，Linux 文件系统定义了两个特殊的路径：</p>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">.</span></code>：当前路径</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">..</span></code>：当前目录的上一级目录</p></li>
</ul>
<p>利用这两个特殊路径，可以使用相对路径访问其他目录下的文件和目录。例如，</p>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">./Beijing</span></code>：当前目录下的 <code class="file docutils literal notranslate"><span class="pre">Beijing</span></code> 目录，即 <code class="file docutils literal notranslate"><span class="pre">~/projects/NorthChina-MTZ/data/Beijing</span></code>。当前路径也可以省略，即 <code class="file docutils literal notranslate"><span class="pre">Beijing</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">./Beijing/IC-BJI.sac</span></code>：当前目录下的 <code class="file docutils literal notranslate"><span class="pre">Beijing</span></code> 目录下的 <code class="file docutils literal notranslate"><span class="pre">IC-BJI.sac</span></code> 文件，即 <code class="file docutils literal notranslate"><span class="pre">~/projects/NorthChina-MTZ/data/Beijing/IC-BJI.sac</span></code>。当前路径也可以省略，即 <code class="file docutils literal notranslate"><span class="pre">Beijing/IC-BJI.sac</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">..</span></code>：上一层目录，即 <code class="file docutils literal notranslate"><span class="pre">~/projects/NorthChina-MTZ</span></code> 目录</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">../..</span></code>：上一层的上一层目录，即 <code class="file docutils literal notranslate"><span class="pre">~/projects</span></code> 目录</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">../figures</span></code>：上一层目录下的 <code class="file docutils literal notranslate"><span class="pre">figures</span></code> 目录，即 <code class="file docutils literal notranslate"><span class="pre">~/projects/NorthChina-MTZ/figures</span></code> 目录</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">../figures/fig1.pdf</span></code>：上一层目录下的 <code class="file docutils literal notranslate"><span class="pre">figures</span></code> 目录下的 <code class="file docutils literal notranslate"><span class="pre">fig1.pdf</span></code> 文件，即 <code class="file docutils literal notranslate"><span class="pre">~/projects/NorthChina-MTZ/figures/fig1.pdf</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>可以使用 <code class="docutils literal notranslate"><span class="pre">ls</span></code> 命令的 <code class="docutils literal notranslate"><span class="pre">-a</span></code> 选项查看某目录下的所有文件和目录（含以 <code class="docutils literal notranslate"><span class="pre">.</span></code> 开头的隐藏文件和目录）。例如，查看家目录:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls -a ~
.     .bash_profile    Downloads   .vscode
..    Desktop          Documents
</pre></div>
</div>
<p>可以看出，其实家目录下存在 <code class="file docutils literal notranslate"><span class="pre">.</span></code> 和 <code class="file docutils literal notranslate"><span class="pre">..</span></code> 这两个特殊的路径。</p>
</div>
</section>
<section id="id4">
<h2>文件权限<a class="headerlink" href="#id4" title="永久链接至标题"></a></h2>
<p>Linux 下每个文件和目录都有自己的权限，使用 <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code> 命令可以查看文件或目录的权限:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 进入 ~/workspace 目录，并新建 hello-world.sh 文件和 source 目录
$ cd ~/workspace
$ touch hello-world.sh
$ mkdir source

# 使用 ls 命令的 -l 选项可以查看 ~/workspace 目录下的所有文件和目录的详细信息
$ ls -l
total 0
-rw-r--r-- 1 seismo-learn seismo-learn 0 Feb  7 22:07 hello-world.sh
drwxr-xr-x 2 seismo-learn seismo-learn 6 Feb  7 22:07 source
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code> 的输出中，第一列为文件权限位，第三列和第四列分别表示文件所属用户和用户组。此处，文件 <code class="file docutils literal notranslate"><span class="pre">hello-world.txt</span></code> 和目录 <code class="file docutils literal notranslate"><span class="pre">source</span></code> 属于用户 seismo-learn，且属于用户组 seismo-learn（对于个人计算机而言，用户组通常有且仅有一个用户，因而用户组与用户同名）。</p>
<p>第一列文件权限位总共包含了 10 位信息（如 <code class="docutils literal notranslate"><span class="pre">-rw-r--r--</span></code>），从左到右的含义分别是：</p>
<ul class="simple">
<li><p>第一位：文件类型（例如，<code class="docutils literal notranslate"><span class="pre">-</span></code> 表示普通文件，<code class="docutils literal notranslate"><span class="pre">d</span></code> 表示目录）</p></li>
<li><p>第二到第四位：文件所属用户的权限</p></li>
<li><p>第五到第七位：文件所属用户组的权限</p></li>
<li><p>第八到第十位：其他人的权限</p></li>
</ul>
<p>每种权限（即文件所属用户的权限、文件所属用户组的权限、其他人的权限）包含三位信息，第一位 <code class="docutils literal notranslate"><span class="pre">r</span></code> 代表可读取（read），第二位 <code class="docutils literal notranslate"><span class="pre">w</span></code> 代表可写入（write），第三位 <code class="docutils literal notranslate"><span class="pre">x</span></code> 代表可执行（execute，对于目录而言表示可以进入该目录），<code class="docutils literal notranslate"><span class="pre">-</span></code> 代表没有对应的权限。</p>
<p>从文件的权限位可以看出，用户 seismo-learn 可以读写文件 <code class="file docutils literal notranslate"><span class="pre">hello-world.sh</span></code>，但不可直接执行该文件，对 <code class="file docutils literal notranslate"><span class="pre">source</span></code> 目录拥有可读、可写、可执行的权限。</p>
<p>除了用字母 <code class="docutils literal notranslate"><span class="pre">rwx</span></code> 表示权限外，还可以用数字表示权限。4 代表可读，2 代表可写，1 代表可执行。因为 <span class="math notranslate nohighlight">\(4+2+1=7\)</span>，所以 7 代表可读、可写、可执行。以此类推，6 代表可读、可写、不可执行，5 代表可读、不可写、可执行，4 代表可读、不可写、不可执行。</p>
<p>使用 <code class="docutils literal notranslate"><span class="pre">chmod</span></code>（change mode，即变更模式）命令可以修改文件或目录的权限，可以参考
<a class="reference external" href="https://www.runoob.com/linux/linux-comm-chmod.html">Linux chmod 命令</a> 了解该命令详细用法。以下只展示常用用法:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># 修改 hello-world.sh 权限
# 所属用户可读可写不可执行、所属用户组可读可写不可执行、其他人所属用户可读不可写不可执行
$ chmod 664 hello-world.sh
$ ls -l hello-world.sh
-rw-rw-r-- 1 seismo-learn seismo-learn 0 Feb  7 22:37 hello-world.sh

# 增加 hello-world.sh 的可执行属性
$ chmod +x hello-world.sh
-rwxrwxr-x 1 seismo-learn seismo-learn 0 Feb  7 22:37 hello-world.sh

# 当文件有可执行权限后，即可通过 ./文件名 的方式直接执行该文件
$ ./hello-world.sh
</pre></div>
</div>
<p>有时候使用 Linux 的命令或安装程序，可能由于没有读写某些文件的权限，而无法运行命令或安装程序。这时可以使用 <code class="docutils literal notranslate"><span class="pre">sudo</span></code> 命令临时获得 root 用户的权限。例如，在 Fedora 下安装
GNU Fortran:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo dnf install gcc-gfortran
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../command-line/" class="btn btn-neutral float-left" title="命令行" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="../shell/" class="btn btn-neutral float-right" title="Shell 基础" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2020–2021, seismo-learn.
      <span class="lastupdated">最后更新于 2021 年 12 月 19 日.
      </span></p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">sphinx_rtd_theme 主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>